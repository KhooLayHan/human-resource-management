<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox spacing="10.0" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="org.bhel.hrm.client.controllers.RecruitmentController"
      styleClass="content-area">

    <!-- Page Header -->
    <fx:include source="components/PageHeader.fxml" fx:id="pageHeader"/>

    <SplitPane dividerPositions="0.3" VBox.vgrow="ALWAYS" style="-fx-background-color: transparent;">

        <!-- LEFT: Job Openings List -->
        <VBox spacing="10.0">
            <padding><Insets right="10" /></padding>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="Job Openings" style="-fx-font-weight: bold;"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button fx:id="addJobButton" text="+" onAction="#handleAddJob" styleClass="button-primary"/>
            </HBox>

            <ListView fx:id="jobListView" VBox.vgrow="ALWAYS"/>
        </VBox>

        <!-- RIGHT: Applicants Table -->
        <VBox spacing="10.0">
            <padding><Insets left="10" /></padding>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="Applicants" style="-fx-font-weight: bold;"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button fx:id="updateStatusButton" text="Update Status"
                        onAction="#handleUpdateStatus" disable="true"/>
            </HBox>

            <TableView fx:id="applicantTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="appNameCol" text="Full Name" prefWidth="150"/>
                    <TableColumn fx:id="appEmailCol" text="Email" prefWidth="150"/>
                    <TableColumn fx:id="appPhoneCol" text="Phone" prefWidth="100"/>
                    <TableColumn fx:id="appStatusCol" text="Status" prefWidth="100"/>
                </columns>
                <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
                <placeholder>
                    <Label text="Select a Job Opening to view applicants."/>
                </placeholder>
            </TableView>
        </VBox>

    </SplitPane>
</VBox>